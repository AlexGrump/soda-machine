(function(e){function n(n){for(var i,c,o=n[0],s=n[1],l=n[2],d=0,f=[];d<o.length;d++)c=o[d],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&f.push(r[c][0]),r[c]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i]);u&&u(n);while(f.length)f.shift()();return a.push.apply(a,l||[]),t()}function t(){for(var e,n=0;n<a.length;n++){for(var t=a[n],i=!0,o=1;o<t.length;o++){var s=t[o];0!==r[s]&&(i=!1)}i&&(a.splice(n--,1),e=c(c.s=t[0]))}return e}var i={},r={app:0},a=[];function c(n){if(i[n])return i[n].exports;var t=i[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,c),t.l=!0,t.exports}c.m=e,c.c=i,c.d=function(e,n,t){c.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,n){if(1&n&&(e=c(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(c.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)c.d(t,i,function(n){return e[n]}.bind(null,i));return t},c.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(n,"a",n),n},c.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},c.p="/soda-machine/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=n,o=o.slice();for(var l=0;l<o.length;l++)n(o[l]);var u=s;a.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},1145:function(e,n,t){},"143f":function(e,n,t){e.exports=t.p+"media/signal_error.b97480ca.wav"},2663:function(e,n,t){},"269b":function(e,n,t){e.exports=t.p+"media/ice.d9e6c4e8.wav"},"2ff0":function(e,n,t){"use strict";var i=t("e683"),r=t.n(i);r.a},"3fc2":function(e,n,t){"use strict";var i=t("dcab"),r=t.n(i);r.a},"43fe":function(e,n,t){e.exports=t.p+"media/machine_noise.2140e801.wav"},"4c55":function(e,n,t){"use strict";var i=t("81e3"),r=t.n(i);r.a},5085:function(e,n,t){"use strict";var i=t("510c"),r=t.n(i);r.a},"510c":function(e,n,t){},"56d7":function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d");var i=t("2b0e"),r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},a=[],c=t("2877"),o={},s=Object(c["a"])(o,r,a,!1,null,null,null),l=s.exports,u=t("8c4f"),d=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"hall-room"},[t("div",{staticClass:"ender"}),t("div",{staticClass:"floor"}),t("div",{staticClass:"window"}),t("SodaMachine",{staticClass:"machine"}),t("Balance")],1)},f=[],p=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"balance"},[t("div",{staticClass:"label"},[e._v("Balance")]),t("div",{staticClass:"value"},[e._v(e._s(e._f("currency")(e.balance)))])])},v=[],h=t("5530"),b=t("2f62"),k={computed:Object(h["a"])({},Object(b["d"])("sodaMachine",["balance"]))},m=k,y=(t("2ff0"),Object(c["a"])(m,p,v,!1,null,"11b736c1",null)),O=y.exports,C=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"soda-machine-container",on:{click:e.play}},[t("SodaMachinePanel"),t("SodaMachineCup")],1)},_=[],g=function(e){var n=new Audio(e);return n.addEventListener("canplaythrough",(function(){n.play()})),n},x={play:g},j=t("43fe"),w=t.n(j),S=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"soda-machine-panel"},[t("SodaMachineScreen"),t("SodaMachineDrinksPanel")],1)},I=[],M=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"soda-machine-screen"},[t("div",{staticClass:"message"},[e.error?[t("div",{staticClass:"title"},[e._v("Error")]),e._v(e._s(e.error))]:e.isDone?[t("div",{staticClass:"title"},[e._v("Done!")]),e._v("Take your drink")]:e.isBusy?[t("div",{staticClass:"title"},[e._v("W-w-h-h...")]),e._v("The drink is pouring")]:[t("div",{staticClass:"title"},[e._v("Hello!")]),e._v("Select drink")]],2),t("div",{staticClass:"highlight",class:e.state})])},P=[],D={computed:Object(h["a"])(Object(h["a"])(Object(h["a"])({},Object(b["c"])("sodaMachine",["isDone","isBusy"])),Object(b["d"])("sodaMachine",["error"])),{},{state:function(){switch(!0){case!!this.error:return"error";case this.isDone:return"success";default:return"default"}}})},z=D,B=(t("7084"),Object(c["a"])(z,M,P,!1,null,"b4a4a802",null)),E=B.exports,F=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"soda-machine-drinks-panel"},e._l(e.drinks,(function(e,n){return t("SodaMachineDrinkButton",{key:e.id,attrs:{drink:e}})})),1)},$=[],T=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("SodaMachineButton",{staticClass:"button",class:{active:e.drink.active},style:{"--brand":e.drink.brandColor},on:{click:function(n){return e.selectDrink(e.drink.id)}}},[t("div",{staticClass:"label"},[e._v(e._s(e.drink.name))]),t("div",{staticClass:"price"},[e._v(e._s(e._f("currency")(e.drink.cost)))])])},L=[],H=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",e._g({on:{mousedown:e.click,mouseup:e.clack}},e.$listeners),[e._t("default")],2)},A=[],J=t("a61a"),R=t.n(J),W=t("e1dd"),q=t.n(W),N={methods:{click:function(){x.play(R.a)},clack:function(){x.play(q.a)}}},Z=N,G=Object(c["a"])(Z,H,A,!1,null,null,null),K=G.exports,Q={components:{SodaMachineButton:K},props:{drink:{type:Object,required:!0}},methods:Object(h["a"])({},Object(b["b"])("sodaMachine",["selectDrink"]))},U=Q,V=(t("7100"),Object(c["a"])(U,T,L,!1,null,"145b0358",null)),X=V.exports,Y={components:{SodaMachineDrinkButton:X},computed:Object(h["a"])({},Object(b["c"])("sodaMachine",["drink","size","drinks","sizes"])),methods:Object(h["a"])({},Object(b["b"])("sodaMachine",["selectDrink","selectSize"]))},ee=Y,ne=(t("3fc2"),Object(c["a"])(ee,F,$,!1,null,"2d04f842",null)),te=ne.exports,ie={components:{SodaMachineScreen:E,SodaMachineDrinksPanel:te}},re=ie,ae=(t("4c55"),Object(c["a"])(re,S,I,!1,null,"40995b0f",null)),ce=ae.exports,oe=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"soda-machine-cup",class:{full:e.cupIsFull},style:{"--drink-color":e.drinkColor,"--drink-opacity":e.drinkOpacity},on:{click:e.drinking}},[t("div",{staticClass:"stripe"}),t("svg",{staticClass:"content",attrs:{xmlns:"http://www.w3.org/2000/svg"}},[t("clipPath",{attrs:{id:"water"}},[t("path",{attrs:{d:"M6 25 L65 25 L 55 110 L 40 112 L 26 112 L 14 110 Z"}})]),t("g",{attrs:{"clip-path":"url(#water)"}},[t("rect",{attrs:{x:"0",y:"0",width:"400",height:"115",fill:"#f00"}})])]),t("div",{staticClass:"stream"}),t("div",{staticClass:"glass"})])},se=[],le={computed:Object(h["a"])(Object(h["a"])(Object(h["a"])({},Object(b["c"])("sodaMachine",["drink"])),Object(b["d"])("sodaMachine",["cupIsFull","inProgress"])),{},{drinkColor:function(){return this.drink?this.drink.drinkColor:null},drinkOpacity:function(){return this.drink?this.drink.drinkOpacity:null}}),methods:Object(h["a"])({},Object(b["b"])("sodaMachine",["drinking"]))},ue=le,de=(t("c13f"),Object(c["a"])(ue,oe,se,!1,null,"750d6976",null)),fe=de.exports,pe={components:{SodaMachinePanel:ce,SodaMachineCup:fe},data:function(){return{noise:null}},methods:{play:function(){this.noise||(this.noise=x.play(w.a),this.noise.loop=!0)},stop:function(){this.noise&&this.noise.pause()}},beforeDestroy:function(){this.stop()}},ve=pe,he=(t("632d"),Object(c["a"])(ve,C,_,!1,null,"d50d1df8",null)),be=he.exports,ke={name:"Hall",components:{Balance:O,SodaMachine:be}},me=ke,ye=(t("5085"),Object(c["a"])(me,d,f,!1,null,"5252fb51",null)),Oe=ye.exports;i["a"].use(u["a"]);var Ce=[{path:"/",name:"Hall",component:Oe}],_e=new u["a"]({mode:"history",base:"/soda-machine/",routes:Ce}),ge=_e,xe=(t("c740"),t("d81d"),t("d3b7"),t("96cf"),t("1da1")),je=t("7afd"),we=t.n(je),Se=t("143f"),Ie=t.n(Se),Me=t("b223"),Pe=t.n(Me),De=t("269b"),ze=t.n(De),Be=t("a45d"),Ee=t.n(Be),Fe="Not enough money",$e=function(e){return new Promise((function(n){return setTimeout(n,e)}))},Te={ok:function(){x.play(we.a)},error:function(){x.play(Ie.a)},done:function(){x.play(Pe.a)}},Le={ice:function(){x.play(ze.a)},pour:function(){x.play(Ee.a)}},He={namespaced:!0,state:{drinks:[{id:6,name:"Water",brandColor:"#03a9f4",drinkColor:"#eee",drinkOpacity:.1,stock:7e3,cost:1},{id:0,name:"CocaCola",brandColor:"#F40009",drinkColor:"#381806",drinkOpacity:.95,stock:260,cost:5.99},{id:1,name:"Fanta",brandColor:"#FF8300",drinkColor:"#FF8300",drinkOpacity:.75,stock:260,cost:5.99},{id:2,name:"Sprite",brandColor:"#008B47",drinkColor:"#eeeeee",drinkOpacity:.25,stock:20,cost:6.99},{id:3,name:"Pepsi",brandColor:"#005CB4",drinkColor:"#381806",drinkOpacity:.95,stock:7e3,cost:5.99},{id:4,name:"Tarhun",brandColor:"#4aa418",drinkColor:"#255908",drinkOpacity:.9,stock:7e3,cost:3.99},{id:5,name:"Tomato",brandColor:"tomato",drinkColor:"tomato",drinkOpacity:1,stock:7e3,cost:3.99},{id:7,name:"Acid",brandColor:"#42c73d",drinkColor:"#00ff00",drinkOpacity:1,stock:7e3,cost:.01}],sizes:[{id:1,name:"sm",size:250},{id:2,name:"md",size:350},{id:3,name:"lg",size:450}],activeSizeIndex:null,activeDrinkIndex:null,cupInPlace:!1,withIce:!0,balance:20.65,error:null,inProgress:!1,cupIsFull:!1},actions:{pourDrink:function(e){return Object(xe["a"])(regeneratorRuntime.mark((function n(){var t,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t=e.state,i=e.commit,i("setProgress",!0),n.next=4,$e(1600);case 4:if(!t.withIce){n.next=8;break}return Le.ice(),n.next=8,$e(3200);case 8:return i("fillCup",!0),Le.pour(),n.next=12,$e(6e3);case 12:i("setProgress",!1),Te.done();case 14:case"end":return n.stop()}}),n)})))()},selectDrink:function(e,n){var t=e.commit,i=e.state,r=e.dispatch,a=e.getters;if(!a.isBusy){var c=i.drinks.findIndex((function(e){return e.id===n}));if(t("setDrinkIndex",c),t("setError",null),a.drink.cost>i.balance)return t("setError",Fe),void Te.error();t("reduceBalance",a.drink.cost),Te.ok(),r("pourDrink")}},selectSize:function(e,n){var t=e.commit,i=e.state,r=i.sizes.findIndex((function(e){return e.id===n}));t("setSizeIndex",r),Te.ok()},toggleIce:function(e){var n=e.commit,t=e.state;n("setIce",!t.withIce)},drinking:function(e){var n=e.commit,t=e.state;t.inProgress||(n("fillCup",!1),n("setDrinkIndex",null))}},mutations:{setDrinkIndex:function(e,n){e.activeDrinkIndex=n},setSizeIndex:function(e,n){e.activeSizeIndex=n},setIce:function(e,n){e.withIce=n},reduceBalance:function(e,n){e.balance-=n},setError:function(e,n){e.error=n},setProgress:function(e,n){e.inProgress=n},fillCup:function(e,n){e.cupIsFull=n}},getters:{drinks:function(e){var n=e.activeDrinkIndex,t=e.drinks;return t.map((function(e,t){return Object(h["a"])(Object(h["a"])({},e),{},{active:t===n})}))},sizes:function(e){var n=e.activeSizeIndex,t=e.sizes;return t.map((function(e,t){return Object(h["a"])(Object(h["a"])({},e),{},{active:t===n})}))},drink:function(e){var n=e.activeDrinkIndex,t=e.drinks;return null!==n?t[n]:null},size:function(e){var n=e.activeSizeIndex,t=e.sizes;return null!==n?t[n]:null},isBusy:function(e){return e.inProgress||e.cupIsFull},isDone:function(e){return!e.inProgress&&e.cupIsFull}}};i["a"].use(b["a"]);var Ae=new b["a"].Store({state:{},mutations:{},actions:{},modules:{sodaMachine:He}}),Je=(t("4de4"),t("99af"),t("b680"),function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return"".concat(n).concat(e.toFixed(t))}),Re=Je;i["a"].filter("currency",Re);t("6db9");i["a"].config.productionTip=!1,new i["a"]({router:ge,store:Ae,render:function(e){return e(l)}}).$mount("#app")},"632d":function(e,n,t){"use strict";var i=t("1145"),r=t.n(i);r.a},"6db9":function(e,n,t){},7084:function(e,n,t){"use strict";var i=t("2663"),r=t.n(i);r.a},7100:function(e,n,t){"use strict";var i=t("ead5"),r=t.n(i);r.a},"7afd":function(e,n,t){e.exports=t.p+"media/signal_ok.5d07969f.wav"},"81e3":function(e,n,t){},a45d:function(e,n,t){e.exports=t.p+"media/pour_water.6ba0ed89.wav"},a61a:function(e,n,t){e.exports=t.p+"media/click.7d4cc9b8.wav"},b223:function(e,n,t){e.exports=t.p+"media/signal_done.e438f65f.wav"},b595:function(e,n,t){},c13f:function(e,n,t){"use strict";var i=t("b595"),r=t.n(i);r.a},dcab:function(e,n,t){},e1dd:function(e,n,t){e.exports=t.p+"media/clack.197159dc.wav"},e683:function(e,n,t){},ead5:function(e,n,t){}});
//# sourceMappingURL=app.99dd7d45.js.map