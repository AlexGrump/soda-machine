(function(n){function e(e){for(var i,c,o=e[0],s=e[1],u=e[2],d=0,f=[];d<o.length;d++)c=o[d],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&f.push(a[c][0]),a[c]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i]);l&&l(e);while(f.length)f.shift()();return r.push.apply(r,u||[]),t()}function t(){for(var n,e=0;e<r.length;e++){for(var t=r[e],i=!0,o=1;o<t.length;o++){var s=t[o];0!==a[s]&&(i=!1)}i&&(r.splice(e--,1),n=c(c.s=t[0]))}return n}var i={},a={app:0},r=[];function c(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,c),t.l=!0,t.exports}c.m=n,c.c=i,c.d=function(n,e,t){c.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:t})},c.r=function(n){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},c.t=function(n,e){if(1&e&&(n=c(n)),8&e)return n;if(4&e&&"object"===typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(c.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var i in n)c.d(t,i,function(e){return n[e]}.bind(null,i));return t},c.n=function(n){var e=n&&n.__esModule?function(){return n["default"]}:function(){return n};return c.d(e,"a",e),e},c.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},c.p="/soda-machine/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=s;r.push([0,"chunk-vendors"]),t()})({0:function(n,e,t){n.exports=t("56d7")},1145:function(n,e,t){},"143f":function(n,e,t){n.exports=t.p+"media/signal_error.b97480ca.wav"},"269b":function(n,e,t){n.exports=t.p+"media/ice.d9e6c4e8.wav"},"2ff0":function(n,e,t){"use strict";var i=t("e683"),a=t.n(i);a.a},"308f":function(n,e,t){n.exports=t.p+"media/process.9cd54a24.wav"},"3fc2":function(n,e,t){"use strict";var i=t("dcab"),a=t.n(i);a.a},"43fe":function(n,e,t){n.exports=t.p+"media/machine_noise.2140e801.wav"},"4c55":function(n,e,t){"use strict";var i=t("81e3"),a=t.n(i);a.a},5085:function(n,e,t){"use strict";var i=t("510c"),a=t.n(i);a.a},"510c":function(n,e,t){},"56d7":function(n,e,t){"use strict";t.r(e);t("e260"),t("e6cf"),t("cca6"),t("a79d");var i=t("2b0e"),a=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},r=[],c=t("2877"),o={},s=Object(c["a"])(o,a,r,!1,null,null,null),u=s.exports,l=t("8c4f"),d=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"hall-room"},[t("div",{staticClass:"ender"}),t("div",{staticClass:"floor"}),t("div",{staticClass:"window"}),t("SodaMachine",{staticClass:"machine"}),t("Balance")],1)},f=[],p=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"balance"},[t("div",{staticClass:"label"},[n._v("Balance")]),t("div",{staticClass:"value"},[n._v(n._s(n._f("currency")(n.balance)))])])},v=[],h=t("5530"),m=t("2f62"),b={computed:Object(h["a"])({},Object(m["d"])("sodaMachine",["balance"]))},k=b,y=(t("2ff0"),Object(c["a"])(k,p,v,!1,null,"11b736c1",null)),O=y.exports,C=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"soda-machine-container",on:{click:n.play}},[t("SodaMachinePanel"),t("SodaMachineCup")],1)},_=[],x=function(n){var e=new Audio(n);return e.addEventListener("canplaythrough",(function(){e.play()})),e},g={play:x},w=t("43fe"),j=t.n(w),S=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"soda-machine-panel"},[t("SodaMachineScreen"),t("SodaMachineDrinksPanel")],1)},I=[],M=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"soda-machine-screen"},[t("div",{staticClass:"message"},[n.error?[t("div",{staticClass:"title"},[n._v("Error")]),n._v(n._s(n.error))]:n.isDone?[t("div",{staticClass:"title"},[n._v("Done!")]),n._v("Take your drink")]:n.isBusy?[t("div",{staticClass:"title"},[n._v("W-w-h-h...")]),n._v("The drink is pouring")]:[t("div",{staticClass:"title"},[n._v("Hello!")]),n._v("Select drink")]],2),t("div",{staticClass:"highlight",class:n.state})])},P=[],D={computed:Object(h["a"])(Object(h["a"])(Object(h["a"])({},Object(m["c"])("sodaMachine",["isDone","isBusy"])),Object(m["d"])("sodaMachine",["error"])),{},{state:function(){switch(!0){case!!this.error:return"error";case this.isDone:return"success";default:return"default"}}})},z=D,B=(t("fac6"),Object(c["a"])(z,M,P,!1,null,"c94f31d8",null)),E=B.exports,F=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"soda-machine-drinks-panel"},n._l(n.drinks,(function(n,e){return t("SodaMachineDrinkButton",{key:n.id,attrs:{drink:n}})})),1)},$=[],T=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("SodaMachineButton",{staticClass:"button",class:{active:n.drink.active},style:{"--brand":n.drink.brandColor},on:{click:function(e){return n.selectDrink(n.drink.id)}}},[t("div",{staticClass:"label"},[n._v(n._s(n.drink.name))]),t("div",{staticClass:"price"},[n._v(n._s(n._f("currency")(n.drink.cost)))])])},L=[],H=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",n._g({on:{mousedown:n.click,mouseup:n.clack}},n.$listeners),[n._t("default")],2)},A=[],J=t("a61a"),R=t.n(J),W=t("e1dd"),q=t.n(W),N={methods:{click:function(){g.play(R.a)},clack:function(){g.play(q.a)}}},Z=N,G=Object(c["a"])(Z,H,A,!1,null,null,null),K=G.exports,Q={components:{SodaMachineButton:K},props:{drink:{type:Object,required:!0}},methods:Object(h["a"])({},Object(m["b"])("sodaMachine",["selectDrink"]))},U=Q,V=(t("7100"),Object(c["a"])(U,T,L,!1,null,"145b0358",null)),X=V.exports,Y={components:{SodaMachineDrinkButton:X},computed:Object(h["a"])({},Object(m["c"])("sodaMachine",["drink","size","drinks","sizes"])),methods:Object(h["a"])({},Object(m["b"])("sodaMachine",["selectDrink","selectSize"]))},nn=Y,en=(t("3fc2"),Object(c["a"])(nn,F,$,!1,null,"2d04f842",null)),tn=en.exports,an={components:{SodaMachineScreen:E,SodaMachineDrinksPanel:tn}},rn=an,cn=(t("4c55"),Object(c["a"])(rn,S,I,!1,null,"40995b0f",null)),on=cn.exports,sn=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"soda-machine-cup",class:{full:n.cupIsFull},style:{"--drink-color":n.drinkColor,"--drink-opacity":n.drinkOpacity},on:{click:n.drinking}},[t("div",{staticClass:"stripe"}),t("svg",{staticClass:"content",attrs:{xmlns:"http://www.w3.org/2000/svg"}},[t("clipPath",{attrs:{id:"water"}},[t("path",{attrs:{d:"M6 25 L65 25 L 55 110 L 40 112 L 26 112 L 14 110 Z"}})]),t("g",{attrs:{"clip-path":"url(#water)"}},[t("rect",{attrs:{x:"0",y:"0",width:"400",height:"115",fill:"#f00"}})])]),t("div",{staticClass:"stream"}),t("div",{staticClass:"glass"})])},un=[],ln={computed:Object(h["a"])(Object(h["a"])(Object(h["a"])({},Object(m["c"])("sodaMachine",["drink"])),Object(m["d"])("sodaMachine",["cupIsFull","inProgress"])),{},{drinkColor:function(){return this.drink?this.drink.drinkColor:null},drinkOpacity:function(){return this.drink?this.drink.drinkOpacity:null}}),methods:Object(h["a"])({},Object(m["b"])("sodaMachine",["drinking"]))},dn=ln,fn=(t("c13f"),Object(c["a"])(dn,sn,un,!1,null,"750d6976",null)),pn=fn.exports,vn={components:{SodaMachinePanel:on,SodaMachineCup:pn},data:function(){return{noise:null}},methods:{play:function(){this.noise||(this.noise=g.play(j.a),this.noise.loop=!0)},stop:function(){this.noise&&this.noise.pause()}},beforeDestroy:function(){this.stop()}},hn=vn,mn=(t("632d"),Object(c["a"])(hn,C,_,!1,null,"d50d1df8",null)),bn=mn.exports,kn={name:"Hall",components:{Balance:O,SodaMachine:bn}},yn=kn,On=(t("5085"),Object(c["a"])(yn,d,f,!1,null,"5252fb51",null)),Cn=On.exports;i["a"].use(l["a"]);var _n=[{path:"/",name:"Hall",component:Cn}],xn=new l["a"]({mode:"history",base:"/soda-machine/",routes:_n}),gn=xn,wn=(t("c740"),t("d81d"),t("d3b7"),t("96cf"),t("1da1")),jn=t("7afd"),Sn=t.n(jn),In=t("143f"),Mn=t.n(In),Pn=t("b223"),Dn=t.n(Pn),zn=t("269b"),Bn=t.n(zn),En=t("a45d"),Fn=t.n(En),$n=t("308f"),Tn=t.n($n),Ln=t("6889"),Hn=t.n(Ln),An="Not enough money",Jn=function(n){return new Promise((function(e){return setTimeout(e,n)}))},Rn={ok:function(){g.play(Sn.a)},error:function(){g.play(Mn.a)},done:function(){g.play(Dn.a)}},Wn={ice:function(){g.play(Bn.a)},pour:function(){g.play(Fn.a)},pump:function(){g.play(Tn.a)},coin:function(){g.play(Hn.a)}},qn={namespaced:!0,state:{drinks:[{id:6,name:"Water",brandColor:"#03a9f4",drinkColor:"#eee",drinkOpacity:.1,stock:7e3,cost:1},{id:0,name:"CocaCola",brandColor:"#F40009",drinkColor:"#381806",drinkOpacity:.95,stock:260,cost:5.99},{id:1,name:"Fanta",brandColor:"#FF8300",drinkColor:"#FF8300",drinkOpacity:.75,stock:260,cost:5.99},{id:2,name:"Sprite",brandColor:"#008B47",drinkColor:"#eeeeee",drinkOpacity:.25,stock:20,cost:6.99},{id:3,name:"Pepsi",brandColor:"#005CB4",drinkColor:"#381806",drinkOpacity:.95,stock:7e3,cost:5.99},{id:4,name:"Tarhun",brandColor:"#4aa418",drinkColor:"#255908",drinkOpacity:.9,stock:7e3,cost:3.99},{id:5,name:"Tomato",brandColor:"tomato",drinkColor:"tomato",drinkOpacity:1,stock:7e3,cost:3.99},{id:7,name:"Acid",brandColor:"#42c73d",drinkColor:"#00ff00",drinkOpacity:1,stock:7e3,cost:.01}],sizes:[{id:1,name:"sm",size:250},{id:2,name:"md",size:350},{id:3,name:"lg",size:450}],activeSizeIndex:null,activeDrinkIndex:null,cupInPlace:!1,withIce:!0,balance:20.65,error:null,inProgress:!1,cupIsFull:!1},actions:{pourDrink:function(n){return Object(wn["a"])(regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.state,i=n.commit,i("setProgress",!0),e.next=4,Jn(1600);case 4:if(!t.withIce){e.next=8;break}return Wn.ice(),e.next=8,Jn(3200);case 8:return Wn.pump(),e.next=11,Jn(600);case 11:return i("fillCup",!0),Wn.pour(),e.next=15,Jn(5700);case 15:i("setProgress",!1),Rn.done();case 17:case"end":return e.stop()}}),e)})))()},selectDrink:function(n,e){var t=n.commit,i=n.state,a=n.dispatch,r=n.getters;if(!r.isBusy){var c=i.drinks.findIndex((function(n){return n.id===e}));if(t("setDrinkIndex",c),t("setError",null),r.drink.cost>i.balance)return t("setError",An),void Rn.error();Wn.coin(),t("reduceBalance",r.drink.cost),Rn.ok(),a("pourDrink")}},selectSize:function(n,e){var t=n.commit,i=n.state,a=i.sizes.findIndex((function(n){return n.id===e}));t("setSizeIndex",a),Rn.ok()},toggleIce:function(n){var e=n.commit,t=n.state;e("setIce",!t.withIce)},drinking:function(n){var e=n.commit,t=n.state;t.inProgress||(e("fillCup",!1),e("setDrinkIndex",null))}},mutations:{setDrinkIndex:function(n,e){n.activeDrinkIndex=e},setSizeIndex:function(n,e){n.activeSizeIndex=e},setIce:function(n,e){n.withIce=e},reduceBalance:function(n,e){n.balance-=e},setError:function(n,e){n.error=e},setProgress:function(n,e){n.inProgress=e},fillCup:function(n,e){n.cupIsFull=e}},getters:{drinks:function(n){var e=n.activeDrinkIndex,t=n.drinks;return t.map((function(n,t){return Object(h["a"])(Object(h["a"])({},n),{},{active:t===e})}))},sizes:function(n){var e=n.activeSizeIndex,t=n.sizes;return t.map((function(n,t){return Object(h["a"])(Object(h["a"])({},n),{},{active:t===e})}))},drink:function(n){var e=n.activeDrinkIndex,t=n.drinks;return null!==e?t[e]:null},size:function(n){var e=n.activeSizeIndex,t=n.sizes;return null!==e?t[e]:null},isBusy:function(n){return n.inProgress||n.cupIsFull},isDone:function(n){return!n.inProgress&&n.cupIsFull}}};i["a"].use(m["a"]);var Nn=new m["a"].Store({state:{},mutations:{},actions:{},modules:{sodaMachine:qn}}),Zn=(t("4de4"),t("99af"),t("b680"),function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return"".concat(e).concat(n.toFixed(t))}),Gn=Zn;i["a"].filter("currency",Gn);t("6db9");i["a"].config.productionTip=!1,new i["a"]({router:gn,store:Nn,render:function(n){return n(u)}}).$mount("#app")},"632d":function(n,e,t){"use strict";var i=t("1145"),a=t.n(i);a.a},6889:function(n,e,t){n.exports=t.p+"media/coin.da4cf676.wav"},"6db9":function(n,e,t){},7100:function(n,e,t){"use strict";var i=t("ead5"),a=t.n(i);a.a},"7afd":function(n,e,t){n.exports=t.p+"media/signal_ok.5d07969f.wav"},8156:function(n,e,t){},"81e3":function(n,e,t){},a45d:function(n,e,t){n.exports=t.p+"media/pour_water.6ba0ed89.wav"},a61a:function(n,e,t){n.exports=t.p+"media/click.7d4cc9b8.wav"},b223:function(n,e,t){n.exports=t.p+"media/signal_done.e438f65f.wav"},b595:function(n,e,t){},c13f:function(n,e,t){"use strict";var i=t("b595"),a=t.n(i);a.a},dcab:function(n,e,t){},e1dd:function(n,e,t){n.exports=t.p+"media/clack.197159dc.wav"},e683:function(n,e,t){},ead5:function(n,e,t){},fac6:function(n,e,t){"use strict";var i=t("8156"),a=t.n(i);a.a}});
//# sourceMappingURL=app.847432d5.js.map